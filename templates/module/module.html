{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="pc-container">
    <div class="pc-content">
        <div class="container">
            <div class="card p-4">
                <div class="d-flex flex-wrap justify-content-end align-items-center mb-3">

                    <a href="{% url 'create_module' %}">
                        <button class="btn btn-primary">+ Create Module</button>
                    </a>
                </div>
                <div class="row g-3">
                    <div class="col-md-4 col-sm-6">
                        <label class="form-label">Enter Module ID:</label>
                        <input type="text" class="form-control" placeholder="Enter Module Id">
                    </div>
                    <div class="col-md-4 col-sm-6">
                        <label class="form-label">Filter by Status:</label>
                        <select class="form-select">
                            <option>All</option>
                            <option>Pending</option>
                            <option>In Progress</option>
                            <option>Completed</option>
                        </select>
                    </div>
                    <div class="col-md-4 col-sm-6">
                        <label class="form-label">Filter by Department:</label>
                        <select class="form-select">
                            <option>All</option>
                            <option>HR</option>
                            <option>Web Development</option>
                            <option>Tester</option>
                        </select>
                    </div>
                    <div class="col-md-4 col-sm-6">
                        <label class="form-label">Filter by Assigned Manager:</label>
                        <select class="form-select">
                            <option>All</option>
                            <option>Rajesh Kumar</option>
                            <option>Pooja Sharma</option>
                            <option>Amit Verma</option>
                        </select>
                    </div>
                    <div class="col-md-4 col-sm-6">
                        <label class="form-label">Filter by Project:</label>
                        <select class="form-select">
                            <option>All</option>
                            <option>Company Management System</option>
                            <option>Task Management System</option>
                            <option>Regression Model</option>
                            <option>Classification</option>
                        </select>
                    </div>
                    <div class="col-md-4 col-sm-6 d-flex justify-content-end align-items-end">
                        <button class="btn btn-primary btn-sm me-2">Apply</button>
                        <button class="btn btn-secondary btn-sm">Reset</button>
                    </div>
                    <div class="col-md-12">
                        <!-- Main card -->
                        <div class="card p-4" id="taskStatusCard">
                            <div class="d-flex justify-content-between align-items-center">
                                <h2>Module Status</h2>

                            </div>




                            <div class="col-12 d-flex align-items-center justify-content-between mt-3">
                                <div class="d-flex align-items-center">
                                    <label for="entriesLimit" class="me-2">Show</label>
                                    <select id="entriesLimit" class="form-select form-select-sm" style="width: auto;">
                                        <option value="5">5</option>
                                        <option value="10" selected>10</option>
                                        <option value="20">20</option>
                                        <option value="50">50</option>
                                    </select>
                                    <label for="entriesLimit" class="ms-2">entries</label>
                                </div>

                            </div>
                            <!-- Task Summary Cards -->
                            <div class="row mt-4">
                                <div class="col-md-3">
                                    <div class="card bg-light-primary text-white p-3">
                                        <h6 class="text-dark">Total Module</h6>
                                        <h4>46
                                        </h4>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="card bg-light-success text-white p-3">
                                        <h6 class="text-dark">Completed Module</h6>
                                        <h4>78
                                        </h4>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="card bg-light-danger text-dark p-3">
                                        <h6 class="text-dark">Pending Module</h6>
                                        <h4>35
                                        </h4>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="card bg-light-warning text-dark p-3">
                                        <h6 class="text-dark">Running Module</h6>
                                        <h4>46
                                        </h4>
                                    </div>
                                </div>
                            </div>

                            <div class="container mt-4">
                                <div class="d-flex justify-content-between align-items-center">
                                   <h6 class="text-muted">Graph History</h6>
                                   <button class="btn btn-dark" id="toggleGraph">
                                       <span id="toggleIcon">+</span>
                                   </button>
                                </div>
                                
                                <!-- Collapsible Graph Section -->
                                <div id="graphHistory" class="collapse mt-3">
                                   <div class="p-3 border rounded bg-light">
                                       <div class="row">
                                           <div class="col-md-4">
                                               <h6 class="text-center">Industry Module Progresss</h6>
                                               <canvas id="barChart"></canvas>
                                           </div>
                                           <div class="col-md-4">
                                               <h6 class="text-center">Industry Module Timeline</h6>
                                               <canvas id="lineChart"></canvas>
                                           </div>
                                           <div class="col-md-4">
                                               <h6 class="text-center">Resource Allocation</h6>
                                               <canvas id="pieChart"></canvas>
                                           </div>
                                       </div>
                                   </div>
                                </div>
                                </div>
                            <div class="table-responsive mt-3">
                                <table class="table table-bordered table-hover">
                                    <thead style="background-color: white;">
                                        <tr>
                                            <th>Module ID <img src="{% static 'Png/sort.png' %}" style="width: 16px; height: 16px; margin-left: 5px;"></th>
                                            <th>Module Name <img src="{% static 'Png/sort.png' %}" style="width: 16px; height: 16px; margin-left: 5px;"></th>
                                            <th>Assigned Manager <img src="{% static 'Png/sort.png' %}" style="width: 16px; height: 16px; margin-left: 5px;"></th>
                                            <th>Project <img src="{% static 'Png/sort.png' %}" style="width: 16px; height: 16px; margin-left: 5px;"></th>
                                            <th>Department<img src="{% static 'Png/sort.png' %}" style="width: 16px; height: 16px; margin-left: 5px;"></th>
                                            <th>Status <img src="{% static 'Png/sort.png' %}" style="width: 16px; height: 16px; margin-left: 5px;"></th>
                                            <th>Action <img src="{% static 'Png/sort.png' %}" style="width: 16px; height: 16px; margin-left: 5px;"></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    <!-- âœ… Module 101 -->
                                    <tr>
                                        <td>101</td>
                                        <td>Design Home Page</td>
                                        <td>Rajesh Kumar</td>
                                        <td>Smart Tax Filling</td>
                                        <td>Finance</td>
                                        <td>
                                            <button id="statusButton101" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#statusModal101">
                                                Status
                                            </button>
                                            <div class="modal fade" id="statusModal101" tabindex="-1" aria-labelledby="statusModalLabel101" aria-hidden="true">
                                                <div class="modal-dialog">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title" id="statusModalLabel101">Module Status</h5>
                                                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <p><strong>Module ID:</strong> 101</p>
                                                            <p><strong>Module Name:</strong> Design Home Page</p>
                                                            <p><strong>Assigned Manager:</strong> Rajesh Kumar</p>
                                                            <label for="statusSelect101" class="form-label">Current Status:</label>
                                                            <select class="form-select" id="statusSelect101">
                                                                <option value="To-Do">To-Do</option>
                                                                <option value="In-Progress">In-Progress</option>
                                                                <option value="Pending">Pending</option>
                                                                <option value="Hold">Hold</option>
                                                                <option value="Complete">Complete</option>
                                                            </select>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                                            <button type="button" class="btn btn-primary updateStatus" data-module-id="101">Update</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                
                                           <td class="text-center">
                                            <div class="d-flex justify-content-center gap-2">
                                                <a href="{% url 'show_module' %}" class="btn btn-info btn-sm">Show</a>
                                                <a href="{% url 'modify_module' %}" class="btn btn-warning btn-sm">Modify</a>
                                                <button class="btn btn-danger btn-sm" data-bs-toggle="modal" data-bs-target="#deleteConfirmationModal101">
                                                    Delete
                                                </button>
                                            </div>
                                        </td>
                                
                                
                                    </tr>
                                
                                    <!-- âœ… Delete Confirmation Modal for Module 101 -->
                                    <div class="modal fade" id="deleteConfirmationModal101" tabindex="-1" aria-labelledby="deleteModalLabel101" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="deleteModalLabel101">Confirm Deletion</h5>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                                </div>
                                                <div class="modal-body">
                                                    Are you sure you want to delete this module?
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                                    <button type="button" class="btn btn-danger" id="confirmDelete101">Delete</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                
                                    <!-- âœ… Module 102 -->
                                    <tr>
                                        <td>102</td>
                                        <td>Fix Login Bug</td>
                                        <td>Pooja Sharma</td>
                                        <td>Cyber Security Audit</td>
                                        <td>Cyber Security</td>
                                        <td>
                                            <button id="statusButton102" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#statusModal102">
                                                Status
                                            </button>
                                            <div class="modal fade" id="statusModal102" tabindex="-1" aria-labelledby="statusModalLabel102" aria-hidden="true">
                                                <div class="modal-dialog">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title" id="statusModalLabel102">Module Status</h5>
                                                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <p><strong>Module ID:</strong> 102</p>
                                                            <p><strong>Module Name:</strong> Fix Login Bug</p>
                                                            <p><strong>Assigned Manager:</strong> Pooja Sharma</p>
                                                            <label for="statusSelect102">Current Status:</label>
                                                            <select class="form-select" id="statusSelect102">
                                                                <option value="To-Do">To-Do</option>
                                                                <option value="In-Progress">In-Progress</option>
                                                                <option value="Pending">Pending</option>
                                                                <option value="Hold">Hold</option>
                                                                <option value="Complete">Complete</option>
                                                            </select>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                                            <button type="button" class="btn btn-primary updateStatus" data-module-id="102">Update</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                            <td class="text-center">
                                                <div class="d-flex justify-content-center gap-2">
                                                    <a href="{% url 'show_module' %}" class="btn btn-info btn-sm">Show</a>
                                                    <a href="{% url 'modify_module' %}" class="btn btn-warning btn-sm">Modify</a>
                                                    <button class="btn btn-danger btn-sm" data-bs-toggle="modal" data-bs-target="#deleteConfirmationModal101">
                                                        Delete
                                                    </button>
                                                </div>
                                            </td>
                                
                                    </tr>
                                
                                    <!-- âœ… Delete Confirmation Modal for Module 102 -->
                                    <div class="modal fade" id="deleteConfirmationModal102" tabindex="-1" aria-labelledby="deleteModalLabel102" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="deleteModalLabel102">Confirm Deletion</h5>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                                </div>
                                                <div class="modal-body">
                                                    Are you sure you want to delete this module?
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                
                                                    <button type="button" class="btn btn-danger" id="confirmDelete102">Delete</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </tbody>
                                
                                
                                </table>
                            </div>

                            <nav>
                                <ul class="pagination justify-content-center flex-wrap">
                                    <li class="page-item"><a class="page-link" href="#">Prev</a></li>
                                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                                    <li class="page-item"><a class="page-link" href="#">Next</a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="{% static 'Javascript/module/createModule.js' %}"></script>
<script src="{% static 'Javascript/module/statusmodule.js' %}"></script>
<script src="{% static 'Javascript/module/showModule.js' %}"></script>
{% endblock %}